---
title: "Week Three Assignment"
author: "Md Asaduzzaman"
date: "2024-09-16"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
#install.packages("tidyverse")
#install.packages("DBI")
#install.packages("odbc")
#install.packages("RSQLite")
#install.packages("dblyr")
#install.packages("RMySQL")
```


```{r}
library(DBI) 
library(odbc)
library(RSQLite)
library(dbplyr)
library(RMySQL)
library(tidyverse)
```


```{r}
library(tidyverse, quietly=TRUE)
```



## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r create dataframe  }

major_data <- read.csv("https://raw.githubusercontent.com/fivethirtyeight/data/master/college-majors/majors-list.csv")

data

```
```{r create dataframe}
data <- read.csv("https://raw.githubusercontent.com/fivethirtyeight/data/master/college-majors/all-ages.csv")

data
```


```{r connect to the Azure sqldatabse server}

library(odbc)

# Creating connection


mysqldbTBConn = dbConnect(RMySQL::MySQL(),
                            dbname= 'md.asaduzzaman39',
                            host= 'cunydata607sql.mysql.database.azure.com',
                            port=3306,
                            user='md.asaduzzaman39',
                            password='c1706f410226ffca')
dbListTables(mysqldbTBConn)


```

```{r fetch data from azure database}

result = dbSendQuery(mysqldbTBConn,"select * from  customer_product")
 
customerProduct <- fetch(result)

print(customerProduct)

```


```{r normalized table in SQL}
result = dbSendQuery(mysqldbTBConn,"select * from  customer")
 
customer <- fetch(result)

print(customer)
```
 


```{r normalized table in SQL}
result = dbSendQuery(mysqldbTBConn,"select * from  product")
 
Product <- fetch(result)

print(Product)
```

```{r normalized table in SQL}
result = dbSendQuery(mysqldbTBConn,"select * from  department")
 
department <- fetch(result)

print(department) 
```



```{r}

#  create datafram from other dataframe

dataframe1 <- data[,c("Major_code","Major","Major_category","Total","Employed","Unemployed")]

```

```{r create atables in dataframe}
table1<- table(dataframe1$Major_code, dataframe1$Major,dataframe1$Major_category)

table1
 
```

```{r create atables in dataframe}

table2 <- table(dataframe1$Total,dataframe1$Employed, dataframe1$Unemployed)
 
table2
```



```{r}
normalize_fun <- function(x){
  return ((x - min(x, na.rm = TRUE))/(max(x, na.rm = TRUE) -(min(x, na.rm = TRUE))))
}


```


```{r}
normalize_data <- as.data.frame(apply(data[4:6],2,normalize_fun))

normalize_data

```



```{r}
major_data$Major <- toupper(major_data$Major)
data_mjrs <- str_subset(major_data$Major, pattern = "(DATA)|(STATISTICS)")
data_mjrs
```

```{r}
data$Major <- toupper(data$Major)
data_mjrs <- str_subset(data$Major, pattern = "(DATA)|(STATISTICS)")
data_mjrs
```


(.)\1\1 = It would find any same character appearing three times in a row.
```{r}
library("stringr")

testData <- c("fdraaaaaoijh")
str_extract_all(testData , regex("(.)\\1\\1"))
```


 

"(.)(.)\\2\\1" = It would search words that a pair of characters followed by the same pair of characters in reversed order.
```{r}
Search_in <- c("cdsabbavdf")
str_extract_all(testData , regex("(.)(.)\\2\\1"))
```

#  “(..)\1” = It would search two characters repeated. 

```{r}
Search_in <- c("scfababthlb")
str_extract_all(Search_in , regex("(..)\\1"))
```
“(.).\1.\1” = It would search words with repeated character pairs spaced by 1 character in between.
```{r}
Data <- c("scfacbababthlb")
str_extract_all(Data , regex("(.).\\1.\\1"))

```
"(.)(.)(.).*\3\2\1" = it would search words with any three character pairs repeated three times

```{r}
Data <- c("applebccfdscbaelppa")
str_extract_all(Data , regex("(.)(.)(.).*\\3\\2\\1"))
```


Start and end with the same character.

Start with ^ and end with*$ 

("^.*$")

```{r}
str_view("churchc", "^(.)(.*)\\1$")
```
Contain a repeated pair of letters (e.g. "church" contains "ch" repeated

Start with [A-Za-z] and end with [A-Za-z] 

```{r}
str_view("church", "([A-Za-z][A-Za-z]).*\\1")
```
Contain one letter repeated in at least three places (e.g. "eleven" contains three "e"s.)

 
 
```{r}
str_view("eleven", "([A-Za-z]).*\\1.*\\1.")
```